(()=>{"use strict";function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,r)||t(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(r){var n,a={},o=function(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=t(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw i}}}}(r);try{for(o.s();!(n=o.n()).done;){var i=e(n.value,2),l=i[0],s=i[1];void 0!==a[l]?(Array.isArray(a[l])||(a[l]=[a[l]]),a[l].push(s)):a[l]=s}}catch(e){o.e(e)}finally{o.f()}return a}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function i(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,s(e,t,"get"))}function l(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,s(e,t,"set"),r),r}function s(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var u=new WeakMap,c=new WeakMap,d=new WeakSet,f=function(){function e(t,r){var n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d.add(this),o={},(a="formErrors")in(n=this)?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,u.set(this,{writable:!0,value:void 0}),c.set(this,{writable:!0,value:void 0}),l(this,u,t),l(this,c,r)}var t,r,s;return t=e,(r=[{key:"formSendData",value:function(e){var t=this;i(this,u).addEventListener("submit",(function(r){r.preventDefault(),r.stopPropagation(),t.formErrors={};var a=n(new FormData(i(t,u)));o(t,d,v).call(t),t.updateLoading(!0),t.updateErrorAlert(),window.axios.post(i(t,c),a).then((function(t){e(t)})).catch((function(e){t.updateErrorAlert(e)})).finally((function(){o(t,d,v).call(t),t.updateLoading()}))}))}},{key:"fieldUpdateError",value:function(e){var t="is-invalid",r=e.getAttribute("name"),n=e.nextElementSibling,a="";this.formErrors[r]?(a=this.formErrors[r].join(", \n"),e.classList.add(t)):e.classList.remove(t),n.innerText=a}},{key:"updateLoading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=i(this,u).querySelector('[type="submit"]'),r=t.querySelector(".spinner-border");e?(r.classList.remove(window.hideClass),t.setAttribute("disabled",!0)):(r.classList.add(window.hideClass),t.removeAttribute("disabled"))}},{key:"updateErrorAlert",value:function(e){var t=i(this,u).querySelector(".alert-danger"),r="";if(e){var n=e.response;r=e,n&&(n.statusText&&(r=n.statusText),n.data&&n.data.message&&(r=n.data.message),n.data.errors&&(this.formErrors=n.data.errors)),t.classList.remove(window.hideClass)}else t.classList.add(window.hideClass);t.innerText=r}}])&&a(t.prototype,r),s&&a(t,s),e}();function v(){var e=this;Array.prototype.slice.call(i(this,u).querySelectorAll("[name]")).forEach((function(t){return e.fieldUpdateError(t)}))}window.hideClass="d-none";var y="personal_code";!function(){for(var e=document.getElementById("start-block"),t=document.getElementById("final-block"),r=document.getElementById("main-form"),n=document.querySelectorAll(".btn-goto-tg"),a=localStorage.getItem(y),o=0;o<n.length;o++)n[o].addEventListener("click",(function(e){var t;t="test_group_123",window.location.replace("tg://resolve?domain=@".concat(t))}));if(a)l(a);else{var i=new f(r,"/api/users");i.formSendData((function(e){(a=e.data.code)?(localStorage.setItem(y,a),l(a)):i.updateErrorAlert("Unknow error!")}))}function l(r){document.getElementById("code").innerText=r,e.classList.add(window.hideClass),t.classList.remove(window.hideClass)}}()})();